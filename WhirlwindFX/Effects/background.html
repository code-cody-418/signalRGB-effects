<head>
  <title>Background</title>
  <meta description="Custom effect for ff7 remake background" />
  <meta publisher="Cody" />
  <meta property="speed" label="Cycle Speed" type="number" min="1" max="10" default="2" />
</head>

<body style="margin: 0; padding: 0">
  <canvas id="exCanvas" width="320" height="200"></canvas>
</body>

<script>
  var c = document.getElementById("exCanvas");
  var ctx = c.getContext("2d");
  var width = 320;
  var height = 200;
  var hue = 0;
  function update() {
    // background
    ctx.fillStyle = "#3e5a74"
    // ctx.fillStyle = "#7eaabd";
    ctx.fillRect(0, 0, width, height);

    var x = 1;
    var y = 20;
    var boxWidth = 10;
    var boxHeight = 10;

    let animationSpeed = Date.now() / 700; // animation speed
    let yMultiplier = 30
    let yStart = 100 // where y animation starts
    let xStart = 0

    for (let i = 0; i < 3; i++) {
      xStart += 80
      // Moons
      ctx.beginPath();
      ctx.arc(xStart, yMultiplier * Math.sin(animationSpeed) + yStart, 30, 0, Math.PI * 2);
      ctx.fillStyle = "#bdcbd5";
      ctx.fill();
    }

    xStart = 120
    // "Cloud"
    ctx.beginPath();
    ctx.arc(xStart, 150, 30, 0, Math.PI * 2);
    ctx.fillStyle = "#000407";
    ctx.fill();

    xStart = 200
    // "Sephiroth"
    ctx.beginPath();
    ctx.arc(xStart, 150, 30, 0, Math.PI * 2);
    ctx.fillStyle = "#000407";
    ctx.fill();


    window.requestAnimationFrame(update);
  }

  window.requestAnimationFrame(update);
</script>